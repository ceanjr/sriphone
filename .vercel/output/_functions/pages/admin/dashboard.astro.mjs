import { f as createComponent, k as renderComponent, r as renderTemplate, m as maybeRenderHead, h as addAttribute } from '../../chunks/astro/server_DLhSBo-F.mjs';
import { $ as $$AdminLayout } from '../../chunks/AdminLayout_Cw13ykxQ.mjs';
import { createClient } from '@supabase/supabase-js';
export { renderers } from '../../renderers.mjs';

const $$Dashboard = createComponent(async ($$result, $$props, $$slots) => {
  const supabaseUrl = "https://xaotzsgpepwtixzkuslx.supabase.co";
  const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhhb3R6c2dwZXB3dGl4emt1c2x4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2Mzg1NTksImV4cCI6MjA3NjIxNDU1OX0.ZLIrY7ZkHRAioaTIG7Tmi6eOc-AFE2iO0KccXO07uyM";
  const supabase = createClient(supabaseUrl, supabaseKey);
  const { data: produtos } = await supabase.from("produtos").select("id, ativo, visualizacoes_total");
  const totalProdutos = produtos?.length || 0;
  const produtosAtivos = produtos?.filter((p) => p.ativo).length || 0;
  const produtosInativos = totalProdutos - produtosAtivos;
  const totalVisualizacoes = produtos?.reduce((acc, p) => acc + (p.visualizacoes_total || 0), 0) || 0;
  const { data: topProdutos } = await supabase.from("produtos").select("id, nome, visualizacoes_total, foto_principal").order("visualizacoes_total", { ascending: false }).limit(5);
  return renderTemplate`${renderComponent($$result, "AdminLayout", $$AdminLayout, { "title": "Dashboard", "description": "Visão geral do catálogo de produtos" }, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<div class="flex flex-col"> <!-- Header --> <div class="flex min-h-[64px] items-center justify-between border-b border-[#2a2a2a] bg-[#0a0a0a] px-4 py-3 md:px-6"> <div class="min-w-0 flex-1"> <h1 class="truncate text-lg font-bold text-white md:text-xl">Dashboard</h1> <p class="hidden text-sm text-[#a0a0a0] sm:block">Visão geral do catálogo de produtos</p> </div> </div> <!-- Content --> <div class="flex-1 space-y-4 p-6"> <!-- Cards de Estatísticas --> <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-4"> <!-- Total de Produtos --> <div class="rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-6"> <div class="flex items-center justify-between"> <h3 class="text-sm font-medium text-[#a0a0a0]">Total de Produtos</h3> <svg class="h-4 w-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path> </svg> </div> <div class="mt-2"> <div class="text-2xl font-bold text-white">${totalProdutos}</div> <p class="text-xs text-[#a0a0a0]"> ${produtosAtivos} ativos, ${produtosInativos} inativos
</p> </div> </div> <!-- Produtos Ativos --> <div class="rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-6"> <div class="flex items-center justify-between"> <h3 class="text-sm font-medium text-[#a0a0a0]">Produtos Ativos</h3> <svg class="h-4 w-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path> </svg> </div> <div class="mt-2"> <div class="text-2xl font-bold text-white">${produtosAtivos}</div> <p class="text-xs text-[#a0a0a0]">Visíveis no catálogo</p> </div> </div> <!-- Produtos Inativos --> <div class="rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-6"> <div class="flex items-center justify-between"> <h3 class="text-sm font-medium text-[#a0a0a0]">Produtos Inativos</h3> <svg class="h-4 w-4 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path> </svg> </div> <div class="mt-2"> <div class="text-2xl font-bold text-white">${produtosInativos}</div> <p class="text-xs text-[#a0a0a0]">Não visíveis</p> </div> </div> <!-- Total de Visualizações --> <div class="rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-6"> <div class="flex items-center justify-between"> <h3 class="text-sm font-medium text-[#a0a0a0]">Total de Visualizações</h3> <svg class="h-4 w-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path> </svg> </div> <div class="mt-2"> <div class="text-2xl font-bold text-white">${totalVisualizacoes.toLocaleString("pt-BR")}</div> <p class="text-xs text-[#a0a0a0]">De todos os produtos</p> </div> </div> </div> <!-- Top Produtos --> ${topProdutos && topProdutos.length > 0 && renderTemplate`<div class="rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-6"> <h2 class="mb-4 text-lg font-semibold text-white">Produtos Mais Visualizados</h2> <div class="space-y-3"> ${topProdutos.map((produto, index) => renderTemplate`<div class="flex items-center gap-4 rounded-lg border border-[#2a2a2a] bg-[#1a1a1a] p-3"> <span class="flex h-8 w-8 items-center justify-center rounded-full bg-white/10 text-white font-bold"> ${index + 1} </span> ${produto.foto_principal && renderTemplate`<img${addAttribute(produto.foto_principal, "src")}${addAttribute(produto.nome, "alt")} class="h-12 w-12 rounded-md object-cover">`} <div class="flex-1"> <p class="text-sm font-medium text-white">${produto.nome}</p> <p class="text-xs text-[#a0a0a0]">${produto.visualizacoes_total.toLocaleString("pt-BR")} visualizações</p> </div> </div>`)} </div> </div>`} <!-- Ações Rápidas --> <div class="grid gap-4 md:grid-cols-3"> <a href="/admin/produtos" class="flex items-center gap-4 rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-6 transition hover:bg-[#1a1a1a]"> <div class="flex h-12 w-12 items-center justify-center rounded-full bg-white/10"> <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path> </svg> </div> <div> <h3 class="font-semibold text-white">Gerenciar Produtos</h3> <p class="text-xs text-[#a0a0a0]">Adicionar, editar ou remover</p> </div> </a> <a href="/admin/categorias" class="flex items-center gap-4 rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-6 transition hover:bg-[#1a1a1a]"> <div class="flex h-12 w-12 items-center justify-center rounded-full bg-white/10"> <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path> </svg> </div> <div> <h3 class="font-semibold text-white">Gerenciar Categorias</h3> <p class="text-xs text-[#a0a0a0]">Organizar produtos</p> </div> </a> <a href="/admin/banners" class="flex items-center gap-4 rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-6 transition hover:bg-[#1a1a1a]"> <div class="flex h-12 w-12 items-center justify-center rounded-full bg-white/10"> <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path> </svg> </div> <div> <h3 class="font-semibold text-white">Gerenciar Banners</h3> <p class="text-xs text-[#a0a0a0]">Atualizar destaque</p> </div> </a> </div> </div> </div> ` })}`;
}, "/home/ceanbrjr/Dev/sriphone/src/pages/admin/dashboard.astro", void 0);
const $$file = "/home/ceanbrjr/Dev/sriphone/src/pages/admin/dashboard.astro";
const $$url = "/admin/dashboard";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Dashboard,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
